{
  "name": "The Humanizer üßë‚Äçüíª",
  "nodes": [
    {
      "parameters": {
        "formTitle": "ü§ñ Anti-AI Humanizer: Kill the Robot Talk",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Text for Humanize (Paste here)",
              "fieldType": "textarea",
              "placeholder": "Paste robotic text generated by ChatGPT or any LLM here. (E.g., 'We must endeavor to harness the synergy...')",
              "requiredField": true
            },
            {
              "fieldLabel": "TONE (Default: Professional)",
              "placeholder": "casual,simple,easy to understand"
            },
            {
              "fieldLabel": "AUDIENCE (Default: General Public)"
            },
            {
              "fieldLabel": "LANGUAGE (Default: English)"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.3,
      "position": [
        -736,
        -240
      ],
      "id": "5eb53e12-a305-4874-ba84-a990185bfc2e",
      "name": "Get the User's querry..",
      "webhookId": "17532de8-6cc5-4e81-bc33-7b23650b1a07"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Text for Humanize(Required): {{ $json['Text for Humanize (Paste here)'] }}\n\nTONE (Default: Professional)(Optional): {{ $json['TONE (Default: Professional)'] }}\n\nAUDIENCE (Default: General Public)(Optional): {{ $json['AUDIENCE (Default: General Public)'] }}\n\nLANGUAGE (Default: English)(Optional): {{ $json['LANGUAGE (Default: English)'] }}",
        "options": {
          "systemMessage": "=You are the \"Anti-AI Humanizer Engine.\" Your sole purpose is to rewrite robotic, AI-generated text into natural, relatable, and human-sounding content.\n\n### 1. INPUT ANALYSIS\nYou will receive input in a structured format containing:\n- **Text for Humanize:** (The core content to rewrite)\n- **TONE:** (Target personality)\n- **AUDIENCE:** (Who will read this)\n- **LANGUAGE:** (Output language)\n\n**IMPORTANT HANDLING FOR OPTIONAL FIELDS:**\n- If TONE is empty or missing, default to: **\"Professional but Conversational\"**.\n- If AUDIENCE is empty or missing, default to: **\"General Reader\"**.\n- If LANGUAGE is empty or missing, default to: **\"English\"**.\n\n### 2. THE \"KILL LIST\" (BANNED WORDS)\nYou must **NEVER** use the following robotic words in your output. If the input text has them, replace them with simple synonyms:\n- Delve, Realm, Tapestry, Pivot/Pivotal, Harness, Elevate, Unleash, Foster, Comprehensive, Landscape, Synergy, Spearhead, Game-changer, Crucial, Underscore.\n\n### 3. HUMANIZATION RULES\n1.  **Sentence Structure:** Humans do not write in perfect paragraphs. Use a mix of short punchy sentences and longer flowing ones.\n2.  **Contractions:** Use \"don't\", \"can't\", \"it's\" instead of \"do not\", \"cannot\", \"it is\".\n3.  **Active Voice:** Avoid \"The project was completed by us.\" Use \"We finished the project.\"\n4.  **Hinglish Logic:** If the LANGUAGE is \"Hinglish\", blend Hindi and English naturally (e.g., use words like 'yaar', 'bas', 'matlab', 'scene') but keep the core message clear.\n\n### 4. OUTPUT FORMAT\n- Do NOT explain what you did.\n- Do NOT say \"Here is the rewritten text\".\n- **ONLY** provide the final rewritten content.\n\n### 5. EXECUTION\nRead the \"Text for Humanize\" below, apply the TONE, AUDIENCE, and LANGUAGE (or defaults), and output the result."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -448,
        -352
      ],
      "id": "34db789e-fb97-44e3-a0cf-5d42a6a2dabd",
      "name": "Humanizer - Agent"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.5-flash-preview-09-2025",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -544,
        -176
      ],
      "id": "7bb65dae-ed8d-4848-9424-bc2154a43a2a",
      "name": "Agent's Brain",
      "credentials": {
        "googlePalmApi": {
          "id": "ALeHMco1S0SAAe1p",
          "name": "Fresh-key"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Step 1: Agent Output Variable (Confirm the path: $json.output, $json.text, or $node[\"PrevNode\"].json.output)\nconst rawAgentOutput = $json.output || $json.text; \n\n// --- Markdown Cleaning Function ---\nfunction parseAndCleanMarkdown(text) {\n    if (!text) return 'No content generated by the agent.';\n\n    // 1. Convert bold/strong markers to <strong> tags\n    let cleanText = text.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>');\n    \n    // 2. Remove list markers (* or -) and ensure clean text\n    cleanText = cleanText.replace(/^- /gm, '‚Ä¢ '); \n    cleanText = cleanText.replace(/^\\* /gm, '‚Ä¢ '); \n\n    // 3. Replace double line breaks with paragraph breaks, handling single line breaks as <br>\n    let paragraphs = cleanText.split('\\n\\n').map(p => {\n        return `<p>${p.replace(/\\n/g, '<br>')}</p>`;\n    }).join('');\n    \n    return paragraphs;\n}\n\nconst cleanHtmlContent = parseAndCleanMarkdown(rawAgentOutput);\n\n// --- HTML Template (Using Template Literals) ---\nconst htmlOutput = `\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Humanizer AI Output</title>\n    <link href=\"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap\" rel=\"stylesheet\">\n    <style>\n        /* Logo Colors and Modern Styles */\n        :root {\n            --primary-purple: #7058d8; \n            --secondary-pink: #fd79a8;\n            --secondary-blue: #0984e3;\n            --page-bg-color: #f8f0ff; /* Deeper Purple Hint */\n            --text-dark: #2c3e50;\n            --border-light: #e6eaf0;\n        }\n        body {\n            font-family: 'Poppins', sans-serif; \n            background-color: var(--page-bg-color); /* Branded Page Color */\n            display: flex; justify-content: center; align-items: center; min-height: 100vh; color: var(--text-dark);\n            margin: 0; padding: 25px;\n        }\n        .container {\n            background: #ffffff; border-radius: 18px; box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);\n            padding: 40px; max-width: 900px; width: 100%; border: 1px solid var(--border-light);\n        }\n        .header { text-align: center; margin-bottom: 35px; }\n        .logo-text-title {\n            font-size: 32px; font-weight: 700;\n            background: linear-gradient(90deg, var(--primary-purple), var(--secondary-pink));\n            -webkit-background-clip: text; -webkit-text-fill-color: transparent;\n            margin-top: 10px; letter-spacing: -0.5px;\n        }\n        .tagline { font-size: 16px; color: #7f8c8d; }\n        \n        .result-box {\n            background-color: #f0f4f9; border: 1px solid var(--border-light); border-radius: 12px;\n            padding: 25px; min-height: 150px;\n            box-shadow: inset 0 2px 8px rgba(0,0,0,0.05);\n        }\n        .result-content {\n            font-size: 17px; line-height: 1.7; color: var(--text-dark);\n            margin: 0;\n        }\n        .result-content p { margin: 0 0 15px 0; }\n        \n        /* Styles for Centered Button */\n        .button-container {\n            text-align: center;\n            margin-top: 25px;\n            margin-bottom: 25px; /* Space above footer */\n        }\n        .copy-btn {\n            background: linear-gradient(45deg, var(--secondary-blue), var(--primary-purple));\n            color: white; border: none; padding: 10px 25px; border-radius: 8px; cursor: pointer;\n            font-size: 16px; font-weight: 600; \n            transition: all 0.3s ease;\n            box-shadow: 0 4px 10px rgba(9, 132, 227, 0.2);\n            position: static; \n            display: inline-block;\n        }\n        .copy-btn:hover { transform: translateY(-1px); box-shadow: 0 6px 15px rgba(9, 132, 227, 0.3); }\n\n        /* New Footer Style */\n        .footer {\n            text-align: center;\n            margin-top: 20px;\n            padding-top: 10px;\n            border-top: 1px solid var(--border-light);\n            font-size: 13px;\n            font-weight: 600;\n            color: #1a1a1a; /* Black color */\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"header\">\n            <div class=\"logo-text-title\">Humanizer AI</div>\n            <div class=\"tagline\">AI Response into Humanize response</div>\n        </div>\n\n        <div class=\"result-box\">\n            <div id=\"parsed-output\" class=\"result-content\">\n                ${cleanHtmlContent}\n            </div>\n        </div>\n\n        <div class=\"button-container\">\n            <button class=\"copy-btn\" onclick=\"copyText()\">Copy Text</button>\n        </div>\n\n        <div class=\"footer\">\n            Powered by mulerun\n        </div>\n    </div>\n\n    <script>\n        function copyText() {\n            const outputText = document.getElementById('parsed-output').innerText;\n            \n            const tempTextArea = document.createElement('textarea');\n            tempTextArea.value = outputText;\n            document.body.appendChild(tempTextArea);\n            tempTextArea.select();\n            document.execCommand('copy');\n            document.body.removeChild(tempTextArea);\n\n            const button = document.querySelector('.copy-btn');\n            const originalText = button.innerText;\n            button.innerText = 'Copied!';\n            \n            setTimeout(() => {\n                button.innerText = originalText;\n            }, 2000);\n        }\n    </script>\n</body>\n</html>\n`;\n\n// Final JavaScript return statement\nreturn [\n    {\n        html: htmlOutput \n    }\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -96,
        -352
      ],
      "id": "e83de0be-cea1-41c2-ba3d-79afeb7fbd36",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "3b2393ba-54ef-4dec-a533-6d6e9e713300",
              "name": "html_content",
              "value": "={{ $json.html }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        192,
        -352
      ],
      "id": "3c0c2c51-0236-4864-8057-a0906a960f06",
      "name": "Edit Fields"
    }
  ],
  "pinData": {},
  "connections": {
    "Get the User's querry..": {
      "main": [
        [
          {
            "node": "Humanizer - Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Agent's Brain": {
      "ai_languageModel": [
        [
          {
            "node": "Humanizer - Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Humanizer - Agent": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        []
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "5461ebd3-4051-4fec-92c5-e85d7cb2b053",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "3fbf15deff72d5a02f5d4a8c987a4acce00fe1fe8ab25bef92bdecac9bcc84ed"
  },
  "id": "P06hkwJxKfuUIy5K",
  "tags": [
    {
      "updatedAt": "2025-10-30T13:07:56.443Z",
      "createdAt": "2025-10-30T13:07:56.443Z",
      "id": "wMJVuw7zQp0cYx6H",
      "name": "Mulerun"
    }
  ]
}